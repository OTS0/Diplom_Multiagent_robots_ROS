# Выпускная квалификационная работа "Разработка алгоритма планирования траектории движения роботов для автоматизированного склада"
## Цель и задачи работы
__Цель работы:__ разработка алгоритма планирования траектории движения роботов с учетом динамики и приоритетов выполнения задачи с целью снижения нагрузки на инфраструктуру автоматизированного склада при увеличении количества роботов.

__Задачи:__
1. Провести обзор существующих алгоритмов планирования траекторий движения
2. Разработать алгоритм планирования траектории движения мобильных роботов для задач складской логистики
3. Провести имитационное моделирование в программе Gazebo
4. Провести сравнительный анализ эффективности разработанного алгоритма при разном количестве роботов
   
## Имитационное моделирование
![Модели](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA3.png)
Модель склада и модель робота были разработаны в Gazebo. Модель склада предстваляет из себя двухэтажное здание с стеллажами и зоной погрузки, здание оснащено лифтом. Модель лифта не была разработана – использовалась готовая модель и плагин. Для взаимодействия с лифтом был написан [скрипт](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/blob/main/elevator/scripts/lift.py). Модель робота – трехколесный робот, для управления роботом испоьзовался плагин, реализующий дифференциальный привод. Для управления роботом был реализован регулятор по скорости (скорость рассчитывалась по расстоянию до точки).

__Передвижение робота на другой этаж:__

![Передвижение робота на другой этаж](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA2.gif)

## Алгоритмы
### [Алгоритм распределения задач](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/blob/main/distributor/scripts/distribute_goal_5.py) 
Алгоритм загружает и сорртирует задачи – таким образом, срочные задачи назначаются в первую очередь, алгоритм владеет информацией о роботах (текущее местоположение, статус роботов (в работе, взаимодействие с лифтом, готов к работе)), назначает задачу ближайшему роботу.

### [Алгоритм глобального планирования](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/blob/main/a_star/scripts/path_planner_robot_1.py)
Формирует путь до точки с помощью алгоритма A-star, алгоритм был доработан для использования лифта и перемещения роботов между этажами.

### [Алгоритм локального планирования](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/tree/main/my_robot_simulation_control-main/scripts)
Для избежания столкновения между роботами и подвижными объектами (например, сотрудники склада) был разработан алгоритм локального планирования. Алгоритм позволяет безопасно объезжать препятствия и выполнять задачи согласно приоритету – робот с низким приоритетом освобождает путь, таким образом роботы выполняют срочные задачи быстрее.

__Пересечение траекторий роботов (верхний робот со срочной задачей):__

![Пересечение траекторий роботов (верхний робот со срочной задачей)](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA1.gif)

### [Анализ выполнения задач](https://github.com/OTS0/Diplom_Multiagent_robots_ROS/blob/main/distributor/scripts/analyse_5.py)
Программа выводит среднее время выполнения задач, минимальное и максимальное время выполнения, колчисевто выполненных задач и общее время выполнения. Это необходимо для сравнительного анализа тестирования алгоритма при разном количестве роботов.

## Результаты
Сравнительный анализ показал: лучшие показатели при использовании 10 роботов, для возможности использовать 20 и более роботов необходимо добавить задержку в распределения задач, чтобы роботы в начале успели разъехаться и не мешали друг другу выполнять задачи.

Разработанный алгоритм учитывает динамику движения роботов и приоритеты выполнения задач с целью снижения нагрузки на инфраструктуру автоматизированного склада, также алгоритм применим с подвижными препятствиями.
